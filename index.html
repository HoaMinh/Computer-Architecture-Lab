<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>Cổng Thông Tin Tích Hợp Mô Phỏng Kiến Trúc Máy Tính</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #f5f7fa;
            margin: 0;
            padding: 0;
        }
        header {
            background: #003366;
            color: white;
            padding: 20px 0;
            text-align: center;
            position: relative;
        }
        h1 { margin: 0; }
        .container {
            max-width: 1000px;
            margin: auto;
            padding: 20px;
        }
        .tool-card {
            background: white;
            padding: 20px;
            margin: 15px 0;
            border-radius: 10px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .tool-card h2 {
            margin-top: 0;
            color: #003366;
        }
        .button-group a {
            display: inline-block;
            padding: 8px 14px;
            margin: 5px 8px 0 0;
            text-decoration: none;
            background: #003366;
            color: white;
            border-radius: 6px;
        }
        .intro-button {
            position: absolute;
            top: 20px;
            right: 20px;
            padding: 8px 16px;
            background: #ffffff;
            color: #003366;
            text-decoration: none;
            border-radius: 6px;
            font-weight: bold;
            border: 2px solid #ffffff;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        .intro-button:hover {
            background: #003366;
            color: #ffffff;
            border-color: #ffffff;
        }
        
        /* Modal styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.7);
            z-index: 1000;
        }
        .modal-content {
            position: relative;
            background-color: white;
            margin: 5% auto;
            padding: 20px;
            width: 80%;
            max-width: 800px;
            max-height: 80vh;
            overflow-y: auto;
            border-radius: 10px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.2);
        }
        .close-button {
            position: absolute;
            top: 15px;
            right: 20px;
            font-size: 28px;
            font-weight: bold;
            color: #003366;
            cursor: pointer;
            background: none;
            border: none;
        }
        .close-button:hover {
            color: #ff0000;
        }
        #readme-content {
            padding: 20px;
            line-height: 1.6;
        }
        #readme-content h1, #readme-content h2, #readme-content h3 {
            color: #003366;
        }
        #readme-content pre {
            background: #f5f5f5;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
        }
        #readme-content code {
            background: #f5f5f5;
            padding: 2px 5px;
            border-radius: 3px;
            font-family: monospace;
        }
        
        footer {
            text-align: center;
            padding: 15px;
            background: #eaeaea;
            margin-top: 20px;
        }
    </style>
</head>

<body>

<header>
    <h1>Cổng Thông Tin Tích Hợp Mô Phỏng Kiến Trúc Máy Tính</h1>
    <button class="intro-button" id="introBtn">GIỚI THIỆU</button>
</header>

<div class="container">

    <p>Trang web này tổng hợp các công cụ mô phỏng phục vụ cho giảng dạy và học tập môn Kiến Trúc Máy Tính, bao gồm mô phỏng mạch số, mô phỏng các bộ phận chức năng trong CPU, mô phỏng bộ nhớ cache, bộ nhớ chính và bộ nhớ ảo, trực quan hóa cấu trúc và hoạt động bên trong của CPU MIPS, biên dịch và mô phỏng chương trình Assembly trên CPU MIPS, hình dung rõ cách hoạt động của bộ nhớ cache, bộ nhớ chính và bộ nhớ ảo thông qua giao diện tương tác, cho phép viết, biên dịch và mô phỏng chương trình Assembly trên CPU MIPS một cách trực quan.  </p>

    <!-- Các tool-card giữ nguyên như trước -->
    <!-- CircuitVerse -->
    <div class="tool-card">
        <h2>CircuitVerse – Mô phỏng mạch số</h2>
        <p>CircuitVerse là nền tảng thiết kế và mô phỏng mạch logic trực tuyến, hỗ trợ xây dựng các cỗng logic, mạch  flip flop, các mạch làm toán, thanh ghi, mạch tổ hợp, mã hóa và giải mã, mạch đa hợp và giải đa hợp, ALU, bộ giải mã lệnh và bus dữ liệu, phối hợp xử lý lệnh theo từng chu kỳ, từ đó hiểu rõ quy trình tìm nạp, giải mã và thực thi lệnh trong kiến trúc bộ xử lý.</p>
        <div class="button-group">
            <a href="https://circuitverse.org/" target="_blank">Vào trình</a>
            <a href="#">Hướng dẫn</a>
            <a href="#">Bài thực hành</a>
        </div>
    </div>

    <!-- MIPS Visualizer -->
    <div class="tool-card">
        <h2>MIPS Visualizer – Mô phỏng lệnh MIPS</h2>
        <p>Trình mô phỏng MIPS Visualizer hỗ trợ trực quan hóa cấu trúc và hoạt động bên trong của CPU MIPS trên sơ đồ mạch logic. Người học có thể quan sát cách các thành phần như ALU, thanh ghi, bộ giải mã lệnh và bus dữ liệu phối hợp xử lý lệnh theo từng chu kỳ, từ đó hiểu rõ quy trình tìm nạp, giải mã và thực thi lệnh trong kiến trúc bộ xử lý.</p>
        <div class="button-group">
            <a href="https://mips-visualizer.com/" target="_blank">Vào trình</a>
            <a href="#">Hướng dẫn</a>
            <a href="#">Bài thực hành</a>
        </div>
    </div>

    <!-- ParaCache -->
    <div class="tool-card">
        <h2>ParaCache – Mô phỏng Cache</h2>
        <p>Mô phỏng ParaCache giúp sinh viên hình dung rõ cách hoạt động của bộ nhớ cache, bộ nhớ chính và bộ nhớ ảo thông qua giao diện tương tác. Sinh viên có thể chọn các chiến lược ánh xạ (trực tiếp, toàn phần, theo tập hợp) và thuật toán thay thế khối (LRU, FIFO, Random), quan sát cách dữ liệu được lưu trữ, truy xuất, và bị thay thế khi có cache miss </p>
        <div class="button-group">
            <a href="https://paracache.com/" target="_blank">Vào trình</a>
            <a href="#">Hướng dẫn</a>
            <a href="#">Bài thực hành</a>
        </div>
    </div>

    <!-- Compiler Explorer -->
    <div class="tool-card">
        <h2>Compiler Explorer – Quan sát mã Assembly</h2>
        <p>Trình biên dịch Compiler Explorer hổ trợ biên dịch trình C qua hợp ngữ MIPS. trên CPU MIPS một cách trực quan. Người học có thể theo dõi quá trình thực thi từng lệnh, bao gồm các bước: tìm nạp, giải mã và thực thi. Các giá trị thanh ghi và bộ nhớ được cập nhật theo thời gian thực, giúp sinh viên hiểu sâu hơn về cách hoạt động của bộ xử lý MIPS và cấu trúc chương trình Assembly ở mức phần cứng.</p>
        <div class="button-group">
            <a href="https://godbolt.org/" target="_blank">Vào trình</a>
            <a href="#">Hướng dẫn</a>
            <a href="#">Bài thực hành</a>
        </div>
    </div>

    <!-- JsSPIM -->
    <div class="tool-card">
        <h2>JsSPIM – Mô phỏng SPIM trực tuyến</h2>
        <p>Công cụ mô phỏng trực tuyến này cho phép sinh viên viết, biên dịch và mô phỏng chương trình Assembly trên CPU MIPS một cách trực quan. Người học có thể theo dõi quá trình thực thi từng lệnh, bao gồm các bước: tìm nạp, giải mã và thực thi. Các giá trị thanh ghi và bộ nhớ được cập nhật theo thời gian thực, giúp sinh viên hiểu sâu hơn về cách hoạt động của bộ xử lý MIPS và cấu trúc chương trình Assembly ở mức phần cứng.</p>
        <div class="button-group">
            <a href="https://spimsimulator.github.io/" target="_blank">Vào trình</a>
            <a href="#">Hướng dẫn</a>
            <a href="#">Bài thực hành</a>
        </div>
    </div>

</div>

<!-- Modal hiển thị README -->
<div id="readmeModal" class="modal">
    <div class="modal-content">
        <button class="close-button" id="closeModal">&times;</button>
        <div id="readme-content">
            <p>Đang tải nội dung giới thiệu...</p>
        </div>
    </div>
</div>

<footer>
    © 2025 – Cổng Thông Tin Tích Hợp Mô Phỏng Kiến Trúc Máy Tính
</footer>

<script>
// Xử lý modal giới thiệu
const introBtn = document.getElementById('introBtn');
const readmeModal = document.getElementById('readmeModal');
const closeModal = document.getElementById('closeModal');
const readmeContent = document.getElementById('readme-content');

// Mở modal khi nhấn nút GIỚI THIỆU
introBtn.addEventListener('click', function() {
    readmeModal.style.display = 'block';
    loadReadmeContent();
});

// Đóng modal khi nhấn nút đóng
closeModal.addEventListener('click', function() {
    readmeModal.style.display = 'none';
});

// Đóng modal khi nhấn ra ngoài nội dung
window.addEventListener('click', function(event) {
    if (event.target === readmeModal) {
        readmeModal.style.display = 'none';
    }
});

// Hàm tải nội dung từ README.md
async function loadReadmeContent() {
    try {
        const response = await fetch('README.md');
        if (!response.ok) {
            throw new Error('Không thể tải file README.md');
        }
        
        const markdownText = await response.text();
        
        // Chuyển đổi markdown đơn giản sang HTML
        const htmlContent = convertMarkdownToHtml(markdownText);
        readmeContent.innerHTML = htmlContent;
        
    } catch (error) {
        readmeContent.innerHTML = `
            <div style="color: red; text-align: center; padding: 40px;">
                <h3>Không thể tải nội dung giới thiệu</h3>
                <p>Lỗi: ${error.message}</p>
                <p>Vui lòng đảm bảo file README.md tồn tại trong cùng thư mục.</p>
            </div>
        `;
    }
}

// Hàm chuyển đổi markdown cơ bản sang HTML
function convertMarkdownToHtml(markdown) {
    // Xử lý tiêu đề
    let html = markdown
        .replace(/^# (.*$)/gim, '<h1>$1</h1>')
        .replace(/^## (.*$)/gim, '<h2>$1</h2>')
        .replace(/^### (.*$)/gim, '<h3>$1</h3>')
        .replace(/^#### (.*$)/gim, '<h4>$1</h4>');
    
    // Xử lý in đậm
    html = html.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');
    
    // Xử lý in nghiêng
    html = html.replace(/\*(.*?)\*/g, '<em>$1</em>');
    
    // Xử lý code block
    html = html.replace(/```([\s\S]*?)```/g, '<pre><code>$1</code></pre>');
    
    // Xử lý inline code
    html = html.replace(/`(.*?)`/g, '<code>$1</code>');
    
    // Xử lý danh sách không có thứ tự
    html = html.replace(/^\s*\* (.*$)/gim, '<li>$1</li>');
    html = html.replace(/(<li>.*<\/li>)/s, '<ul>$1</ul>');
    
    // Xử lý danh sách có thứ tự
    html = html.replace(/^\s*\d\. (.*$)/gim, '<li>$1</li>');
    html = html.replace(/(<li>.*<\/li>)/s, '<ol>$1</ol>');
    
    // Xử lý link
    html = html.replace(/\[(.*?)\]\((.*?)\)/g, '<a href="$2" target="_blank">$1</a>');
    
    // Xử lý đoạn văn (thay dòng mới bằng <br> và <p>)
    html = html.replace(/\n\n/g, '</p><p>');
    html = html.replace(/\n/g, '<br>');
    
    // Đảm bảo các đoạn văn được bọc trong <p>
    const lines = html.split('</p><p>');
    html = lines.map(line => {
        if (!line.startsWith('<h') && !line.startsWith('<ul') && 
            !line.startsWith('<ol') && !line.startsWith('<pre') &&
            !line.startsWith('<li')) {
            return `<p>${line}</p>`;
        }
        return line;
    }).join('');
    
    return html;
}
</script>

</body>
</html>
