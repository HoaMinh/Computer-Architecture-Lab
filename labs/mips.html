<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bài thực hành MIPS Visualizer</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root {
            --primary-blue: #00008b;
            --nav-bg: #1a237e;
            --btn-active: #5c6bc0;
            --btn-dark: #283593;
            --btn-green: #2e7d32;
            --text-dark: #333;
            --bg-light: #f0f2f5;
            --accent-blue: #e3f2fd;
        }

        body {
            font-family: 'Segoe UI', Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--bg-light);
            color: var(--text-dark);
            line-height: 1.6;
        }

        /* Header & Nav */
        .header { text-align: center; padding: 25px 0; background: white; border-bottom: 3px solid var(--primary-blue); }
        .header h1 { color: var(--primary-blue); text-transform: uppercase; margin: 0; font-size: 28px; display: flex; justify-content: center; align-items: center; gap: 12px; }
        .nav-container { background-color: var(--nav-bg); padding: 12px; display: flex; justify-content: center; gap: 12px; }
        .nav-btn { padding: 10px 20px; border-radius: 4px; text-decoration: none; color: white; font-weight: bold; display: flex; align-items: center; gap: 8px; font-size: 14px; transition: 0.2s; }
        .btn-active { background-color: var(--btn-active); }
        .btn-normal { background-color: var(--btn-dark); }
        .btn-home { background-color: var(--btn-green); }

        /* Layout */
        .content-wrapper { max-width: 1000px; margin: 30px auto; padding: 0 15px; }
        .card { background: white; border-radius: 8px; border: 1px solid var(--primary-blue); box-shadow: 0 4px 12px rgba(0,0,0,0.1); overflow: hidden; margin-bottom: 40px; }
        .card-header { background: #f8f9fa; padding: 15px 20px; border-bottom: 1px solid #eee; display: flex; align-items: center; gap: 15px; }
        .card-header i { font-size: 24px; color: var(--primary-blue); }
        .card-header h2 { margin: 0; color: var(--primary-blue); font-size: 20px; text-transform: uppercase; }
        .card-body { padding: 30px; }

        /* Section Styles */
        .section-box { margin-bottom: 25px; }
        .section-title { font-weight: bold; color: var(--primary-blue); border-bottom: 2px solid var(--accent-blue); display: inline-block; margin-bottom: 10px; }
        .objective-list { background: var(--accent-blue); padding: 15px 20px; border-left: 5px solid var(--btn-active); border-radius: 4px; list-style-type: square; }
        .instruction-steps { padding-left: 20px; }
        .instruction-steps li { margin-bottom: 8px; }

        /* Boxes for Code and Info */
        .code-box { background: #272822; color: #f8f8f2; padding: 20px; border-radius: 6px; font-family: 'Consolas', monospace; margin: 15px 0; white-space: pre; overflow-x: auto; font-size: 14px; }
        .submit-box { background: #e8f5e9; padding: 15px; border-radius: 4px; border-left: 5px solid var(--btn-green); margin: 15px 0; font-weight: 500; }
        .quiz-box { background: #fff3e0; padding: 15px 20px; border-left: 5px solid #ff9800; border-radius: 4px; margin-top: 20px; }
        .quiz-box strong { color: #e65100; }
    </style>
</head>
<body>

    <header class="header">
        <h1><i class="fas fa-flask"></i> BÀI THỰC HÀNH MIPS VISUALIZER</h1>
        <p>Thực hành trực quan hóa Datapath và kiến trúc tập lệnh MIPS</p>
    </header>

    <nav class="nav-container">
        <a href="../guide/mips.html" class="nav-btn btn-normal"><i class="fas fa-info-circle"></i> HƯỚNG DẪN</a>
        <a href="#" class="nav-btn btn-active"><i class="fas fa-tasks"></i> BÀI THỰC HÀNH</a>
        <a href="https://aleksa-sukovic.github.io/mips-visualiser/" target="_blank" class="nav-btn btn-normal"><i class="fas fa-play-circle"></i> VÀO TRÌNH</a>
        <a href="../index.html" class="nav-btn btn-home"><i class="fas fa-home"></i> TRANG CHỦ</a>
    </nav>

    <div class="content-wrapper">

        <div class="card">
            <div class="card-header"><i class="fas fa-calculator"></i><h2>Bài 2-1: NHẬP MÔN KIẾN TRÚC MIPS & THANH GHI</h2></div>
            <div class="card-body">
                <div class="section-box">
                    <div class="section-title">Mục tiêu</div>
                    <ul class="objective-list">
                        <li>Thực thi các lệnh cơ bản: ADD, SUB, AND, OR, SLT.</li>
                        <li>Quan sát sự thay đổi giá trị trong các thanh ghi và sơ đồ Datapath.</li>
                    </ul>
                </div>

                <div class="section-box">
                    <div class="section-title">Hướng dẫn thực hiện</div>
                    <p>Thực thi lần lượt đoạn mã sau:</p>
                    <div class="code-box">li $t1, 5
li $t2, 3
add $t3, $t1, $t2
sub $t4, $t1, $t2
and $t5, $t1, $t2
or $t6, $t1, $t2
slt $t7, $t2, $t1</div>
                    <ol class="instruction-steps">
                        <li>Ghi nhận giá trị các thanh ghi $t1..$t7 sau mỗi dòng lệnh.</li>
                        <li>Giải thích tại sao lệnh <code>slt</code> lại cho kết quả $t7 = 1.</li>
                    </ol>
                </div>

                <div class="submit-box"><i class="fas fa-check-circle"></i> Yêu cầu nộp: Bảng giá trị thanh ghi và ảnh minh họa Datapath của lệnh ADD.</div>

                <div class="quiz-box">
                    <strong>Câu hỏi ôn tập:</strong> Sự khác biệt giữa lệnh số học (ADD/SUB) và lệnh logic (AND/OR) khi di chuyển qua ALU là gì?
                </div>
            </div>
        </div>

        <div class="card">
            <div class="card-header"><i class="fas fa-project-diagram"></i><h2>Bài 2-2: DATA PATH – TRUY XUẤT BỘ NHỚ</h2></div>
            <div class="card-body">
                <div class="section-box">
                    <div class="section-title">Mục tiêu</div>
                    <ul class="objective-list">
                        <li>Hiểu cơ chế hoạt động của lệnh Load Word (LW) và Store Word (SW).</li>
                        <li>Xác định các thành phần Datapath tham gia vào quá trình đọc/ghi bộ nhớ.</li>
                    </ul>
                </div>

                <div class="section-box">
                    <div class="section-title">Hướng dẫn thực hiện</div>
                    <div class="code-box">li $s0, 100
sw $s0, 0($zero)   # Ghi 100 vào địa chỉ 0
lw $s1, 0($zero)   # Đọc từ địa chỉ 0 vào $s1</div>
                    <p>Nhấn <strong>Step</strong> và quan sát kỹ các đường tín hiệu màu đậm khi lệnh <code>sw</code> và <code>lw</code> thực thi.</p>
                </div>
                
                

                <div class="submit-box"><i class="fas fa-check-circle"></i> Yêu cầu nộp: Mô tả luồng dữ liệu của lệnh LW: Dữ liệu đi từ Memory qua thành phần nào để về Register File?</div>

                <div class="quiz-box">
                    <strong>Câu hỏi ôn tập:</strong> Trong lệnh <code>sw</code>, tín hiệu <code>MemWrite</code> sẽ có giá trị là bao nhiêu (0 hay 1)?
                </div>
            </div>
        </div>

        <div class="card">
            <div class="card-header"><i class="fas fa-stream"></i><h2>Bài 2-3: KIẾN TRÚC PIPELINE & XUNG ĐỘT DỮ LIỆU</h2></div>
            <div class="card-body">
                <div class="section-box">
                    <div class="section-title">Mục tiêu</div>
                    <ul class="objective-list">
                        <li>Nhận diện xung đột dữ liệu (Data Hazard) trong kiến trúc Pipeline.</li>
                        <li>Hiểu vai trò của lệnh NOP (No Operation) hoặc kỹ thuật Forwarding.</li>
                    </ul>
                </div>

                <div class="section-box">
                    <div class="section-title">Hướng dẫn thực hiện</div>
                    <p>Chạy đoạn mã gây xung đột sau:</p>
                    <div class="code-box">add $t1, $t2, $t3
sub $t4, $t1, $t5   # Lệnh sub dùng $t1 ngay sau add</div>
                    <p>Nếu công cụ báo lỗi hoặc kết quả sai, hãy thử thêm các lệnh <code>nop</code> ở giữa.</p>
                </div>

                <div class="quiz-box">
                    <strong>Câu hỏi ôn tập:</strong> Tại sao Pipeline lại cần 5 giai đoạn (IF, ID, EX, MEM, WB)? Lệnh NOP giúp giải quyết xung đột như thế nào?
                </div>
            </div>
        </div>

        <div class="card">
            <div class="card-header"><i class="fas fa-code-branch"></i><h2>Bài 2-4: NHÁNH & DỰ ĐOÁN NHÁNH</h2></div>
            <div class="card-body">
                <div class="section-box">
                    <div class="section-title">Mục tiêu</div>
                    <ul class="objective-list">
                        <li>Quan sát xung đột điều khiển (Control Hazard) với BEQ/BNE.</li>
                        <li>Thực hành tạo vòng lặp và tối ưu thứ tự lệnh.</li>
                    </ul>
                </div>

                <div class="section-box">
                    <div class="section-title">Hướng dẫn thực hiện</div>
                    <div class="code-box">li $t0, 10      # N = 10
li $t1, 0       # sum = 0
li $t2, 1       # i = 1
loop:
    add $t1, $t1, $t2
    addi $t2, $t2, 1
    ble $t2, $t0, loop</div>
                </div>

                <div class="submit-box"><i class="fas fa-check-circle"></i> Yêu cầu nộp: Mã nguồn vòng lặp và thống kê tổng số chu kỳ thực hiện bài toán.</div>

                <div class="quiz-box">
                    <strong>Câu hỏi ôn tập:</strong> Tại sao các lệnh rẽ nhánh lại gây ra độ trễ (penalty) trong kiến trúc Pipeline?
                </div>
            </div>
        </div>

    </div>
</body>
</html>
