<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bài Thực Hành CircuitVerse - Kiến Trúc Máy Tính</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: #ffffff;
            color: #000000;
            line-height: 1.6;
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header */
        .header {
            text-align: center;
            padding: 30px 0;
            border-bottom: 3px solid #000080;
            margin-bottom: 40px;
            background: #ffffff;
            border-radius: 10px;
        }

        .header h1 {
            color: #000080;
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .header p {
            color: #333333;
            font-size: 1.1rem;
            max-width: 800px;
            margin: 0 auto;
        }

        /* Main Navigation Menu */
        .main-nav {
            display: flex;
            justify-content: center;
            margin-bottom: 40px;
            background: #000080;
            border-radius: 10px;
            padding: 10px;
        }

        .nav-tabs {
            display: flex;
            gap: 5px;
            width: 100%;
            justify-content: center;
            flex-wrap: wrap;
        }

        .nav-tab {
            padding: 14px 28px;
            background: rgba(255, 255, 255, 0.15);
            border: none;
            border-radius: 8px;
            color: #ffffff;
            font-size: 1.05rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 10px;
            text-decoration: none;
            text-align: center;
            flex: 1;
            min-width: 180px;
            max-width: 250px;
            justify-content: center;
        }

        .nav-tab i {
            font-size: 1.2rem;
        }

        .nav-tab:hover {
            background: rgba(255, 255, 255, 0.25);
            transform: translateY(-2px);
            color: #ffffff;
        }

        .nav-tab.active {
            background: rgba(255, 255, 255, 0.3);
            color: #ffffff;
            font-weight: 700;
        }

        /* Sub Navigation */
        .sub-nav {
            display: flex;
            justify-content: center;
            margin-bottom: 30px;
            gap: 8px;
            flex-wrap: wrap;
            padding: 15px;
            background: #ffffff;
            border-radius: 8px;
            border: 2px solid #000080;
        }

        .sub-tab {
            padding: 10px 20px;
            background: #ffffff;
            border: 1px solid #cccccc;
            border-radius: 6px;
            color: #000000;
            font-size: 0.9rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            gap: 8px;
            min-width: 150px;
            justify-content: center;
        }

        .sub-tab:hover {
            background: #f0f8ff;
            border-color: #000080;
            color: #000080;
        }

        .sub-tab.active {
            background: #000080;
            border-color: #000080;
            color: #ffffff;
            font-weight: 600;
        }

        /* Main Content */
        .content {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Lab Sections */
        .lab-section {
            background: #ffffff;
            border-radius: 10px;
            padding: 30px;
            margin-bottom: 30px;
            border: 2px solid #000080;
        }

        .lab-header {
            display: flex;
            align-items: center;
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 2px solid #eeeeee;
        }

        .lab-icon {
            background: #000080;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 20px;
            font-size: 1.8rem;
            flex-shrink: 0;
            color: white;
        }

        .lab-title-container {
            flex-grow: 1;
        }

        .lab-title {
            font-size: 2rem;
            color: #000080;
            margin-bottom: 5px;
        }

        .lab-subtitle {
            color: #333333;
            font-size: 1.1rem;
        }

        .difficulty {
            display: inline-block;
            background: #fff3cd;
            color: #856404;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
            margin-top: 5px;
        }

        /* Lab Content Sections */
        .lab-content {
            padding: 10px 0;
        }

        .content-section {
            margin-bottom: 30px;
            padding: 25px;
            background: #ffffff;
            border-radius: 8px;
            border-left: 4px solid #000080;
            border: 1px solid #dddddd;
        }

        .content-section.objective {
            border-left-color: #000080;
        }

        .content-section.tools {
            border-left-color: #000080;
        }

        .content-section.instructions {
            border-left-color: #000080;
        }

        .content-section.requirements {
            border-left-color: #000080;
        }

        .content-section.questions {
            border-left-color: #000080;
        }

        .content-title {
            color: #000080;
            font-size: 1.4rem;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 12px;
            padding-bottom: 10px;
            border-bottom: 2px solid #eeeeee;
        }

        .content-title i {
            font-size: 1.6rem;
            color: #000080;
        }

        .content-title .section-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            color: white;
            background: #000080;
        }

        .lab-content ul, .lab-content ol {
            padding-left: 25px;
            margin-bottom: 15px;
        }

        .lab-content li {
            margin-bottom: 12px;
            color: #000000;
            line-height: 1.7;
            padding-left: 5px;
        }

        .lab-content p {
            margin-bottom: 15px;
            color: #000000;
            line-height: 1.7;
        }

        .important-note {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px 20px;
            margin: 20px 0;
            border-radius: 8px;
        }

        .important-note i {
            color: #856404;
            margin-right: 10px;
        }

        /* Tables */
        .table-container {
            overflow-x: auto;
            margin: 20px 0;
            border-radius: 8px;
            border: 1px solid #dddddd;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            background: #ffffff;
        }

        th {
            background: #000080;
            color: white;
            padding: 16px;
            text-align: left;
            font-weight: 600;
            border-bottom: 2px solid #000060;
        }

        td {
            padding: 14px 16px;
            border-bottom: 1px solid #eeeeee;
            color: #000000;
        }

        tr:hover {
            background: #f8f9fa;
        }

        /* Practice Content */
        .practice-content {
            text-align: center;
            padding: 40px 20px;
        }

        .simulator-container {
            background: #ffffff;
            border-radius: 10px;
            padding: 30px;
            margin-top: 20px;
            border: 2px solid #000080;
        }

        .simulator-frame {
            width: 100%;
            height: 700px;
            border: 2px solid #000080;
            border-radius: 8px;
            margin: 20px 0;
            overflow: hidden;
            background: #ffffff;
        }

        /* Links */
        a:not(.nav-tab):not(.sub-tab) {
            color: #000080;
            text-decoration: none;
            font-weight: 500;
        }

        a:not(.nav-tab):not(.sub-tab):hover {
            color: #000060;
            text-decoration: underline;
        }

        /* Strong text */
        strong {
            color: #000080;
        }

        /* Footer */
        .footer {
            text-align: center;
            padding: 30px 0;
            margin-top: 50px;
            border-top: 2px solid #eeeeee;
            color: #666666;
            font-size: 0.9rem;
        }

        .footer a {
            color: #000080;
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .footer a:hover {
            color: #000060;
            text-decoration: underline;
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .nav-tab {
                min-width: 160px;
                padding: 12px 20px;
                font-size: 1rem;
            }
            
            .sub-tab {
                min-width: 130px;
                padding: 8px 15px;
                font-size: 0.85rem;
            }
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2rem;
            }
            
            .main-nav {
                padding: 8px;
            }
            
            .nav-tabs {
                flex-direction: column;
                align-items: center;
            }
            
            .nav-tab {
                width: 100%;
                max-width: 100%;
                min-width: auto;
                margin-bottom: 5px;
            }
            
            .sub-nav {
                flex-direction: column;
                align-items: center;
            }
            
            .sub-tab {
                width: 100%;
                max-width: 300px;
                justify-content: center;
            }
            
            .lab-section {
                padding: 20px;
            }
            
            .lab-header {
                flex-direction: column;
                text-align: center;
            }
            
            .lab-icon {
                margin-right: 0;
                margin-bottom: 15px;
            }
            
            .content-section {
                padding: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <h1><i class="fas fa-microchip"></i> BÀI THỰC HÀNH CIRCUITVERSE</h1>
            <p>Phòng thí nghiệm Kiến trúc Máy tính - Mô phỏng và thiết kế mạch số</p>
        </header>

        <!-- Main Navigation Menu -->
        <nav class="main-nav">
            <div class="nav-tabs">
                <a href="../guide/circuitverse.html" class="nav-tab">
                    <i class="fas fa-book"></i> HƯỚNG DẪN
                </a>
                <a href="#" class="nav-tab active" data-tab="labs">
                    <i class="fas fa-flask"></i> BÀI THỰC HÀNH
                </a>
                <a href="#" class="nav-tab" data-tab="simulator">
                    <i class="fas fa-play-circle"></i> VÀO TRÌNH MÔ PHỎNG
                </a>
            </div>
        </nav>

        <!-- Sub Navigation - Các bài thực hành con -->
        <div id="labs-subnav" class="sub-nav">
            <button class="sub-tab active" data-subtab="lab1">
                <i class="fas fa-project-diagram"></i> Bài 1: Cổng Logic
            </button>
            <button class="sub-tab" data-subtab="lab2">
                <i class="fas fa-calculator"></i> Bài 2: Bộ Cộng/Trừ
            </button>
            <button class="sub-tab" data-subtab="lab3">
                <i class="fas fa-memory"></i> Bài 3: Mạch Tuần Tự
            </button>
            <button class="sub-tab" data-subtab="lab4">
                <i class="fas fa-brain"></i> Bài 4: ALU Đơn Giản
            </button>
            <button class="sub-tab" data-subtab="lab5">
                <i class="fas fa-cogs"></i> Bài 5: CPU Mini
            </button>
        </div>

        <!-- ========== BÀI 1: CỔNG LOGIC ========== -->
        <div id="lab1" class="content active">
            <div class="lab-section">
                <div class="lab-header">
                    <div class="lab-icon">
                        <i class="fas fa-project-diagram"></i>
                    </div>
                    <div class="lab-title-container">
                        <h2 class="lab-title">BÀI 1: THIẾT KẾ VÀ MÔ PHỎNG CỔNG LOGIC CƠ BẢN</h2>
                        <p class="lab-subtitle">Nền tảng của mạch số • Hiểu bản chất của các cổng logic</p>
                        <span class="difficulty">★☆☆☆☆ Dễ • Thời gian: 2 giờ</span>
                    </div>
                </div>

                <div class="lab-content">
                    <!-- Mục tiêu -->
                    <div class="content-section objective">
                        <h3 class="content-title">
                            <span class="section-icon"><i class="fas fa-bullseye"></i></span>
                            MỤC TIÊU
                        </h3>
                        <p>Sau khi hoàn thành bài thực hành này, sinh viên có khả năng:</p>
                        <ul>
                            <li>Hiểu rõ nguyên lý hoạt động của các cổng logic cơ bản: AND, OR, NOT, NAND, NOR, XOR, XNOR</li>
                            <li>Sử dụng thành thạo phần mềm CircuitVerse để thiết kế mạch số</li>
                            <li>Kiểm tra và xác minh bảng chân trị của các cổng logic</li>
                            <li>Thiết kế mạch kết hợp đơn giản từ các cổng cơ bản</li>
                            <li>Phân tích mạch logic từ biểu thức Boolean</li>
                        </ul>
                    </div>

                    <!-- Công cụ và chuẩn bị -->
                    <div class="content-section tools">
                        <h3 class="content-title">
                            <span class="section-icon"><i class="fas fa-tools"></i></span>
                            CÔNG CỤ VÀ CHUẨN BỊ
                        </h3>
                        <ul>
                            <li><strong>Phần mềm:</strong> CircuitVerse (trực tuyến hoặc offline)</li>
                            <li><strong>Tài liệu tham khảo:</strong> Slide bài giảng chương 2 - Đại số Boolean</li>
                            <li><strong>Linh kiện cần dùng:</strong> Cổng AND, OR, NOT, NAND, NOR, XOR, XNOR</li>
                            <li><strong>Công cụ hỗ trợ:</strong> Input switches, output LEDs, wire connections</li>
                            <li><strong>Kiến thức nền:</strong> Hệ nhị phân, bảng chân trị, biểu thức Boolean</li>
                        </ul>
                    </div>

                    <!-- Hướng dẫn thực hiện -->
                    <div class="content-section instructions">
                        <h3 class="content-title">
                            <span class="section-icon"><i class="fas fa-book-open"></i></span>
                            HƯỚNG DẪN THỰC HIỆN
                        </h3>
                        <p><strong>Bước 1:</strong> Truy cập CircuitVerse và tạo workspace mới</p>
                        <p><strong>Bước 2:</strong> Kéo thả các cổng logic từ thư viện (tìm trong mục "Gates")</p>
                        <p><strong>Bước 3:</strong> Thêm input switches (Input/Output → Input)</p>
                        <p><strong>Bước 4:</strong> Thêm output LEDs để quan sát kết quả</p>
                        <p><strong>Bước 5:</strong> Kết nối các thành phần bằng dây dẫn (click và kéo)</p>
                        <p><strong>Bước 6:</strong> Nhấn nút "Simulate" để chạy mô phỏng</p>
                        <p><strong>Bước 7:</strong> Thay đổi trạng thái input và quan sát output</p>
                        
                        <div class="important-note">
                            <i class="fas fa-lightbulb"></i>
                            <strong>Lưu ý quan trọng:</strong> Ghi lại bảng chân trị cho từng cổng và so sánh với lý thuyết.
                        </div>
                    </div>

                    <!-- Yêu cầu nộp -->
                    <div class="content-section requirements">
                        <h3 class="content-title">
                            <span class="section-icon"><i class="fas fa-file-export"></i></span>
                            YÊU CẦU NỘP
                        </h3>
                        <ul>
                            <li>File CircuitVerse (.cv) chứa đầy đủ 7 loại cổng logic</li>
                            <li>Bảng chân trị đã kiểm chứng cho từng cổng</li>
                            <li>Mạch thiết kế thực hiện hàm: F = AB + C'D</li>
                            <li>Báo cáo ngắn (PDF) giải thích hoạt động mạch</li>
                            <li>Link chia sẻ công khai từ CircuitVerse</li>
                            <li><strong>Hạn nộp:</strong> 1 tuần sau buổi thực hành</li>
                        </ul>
                    </div>

                    <!-- Câu hỏi ôn tập -->
                    <div class="content-section questions">
                        <h3 class="content-title">
                            <span class="section-icon"><i class="fas fa-question-circle"></i></span>
                            CÂU HỎI ÔN TẬP
                        </h3>
                        <ol>
                            <li>Sự khác nhau giữa cổng NAND và AND là gì? Ứng dụng của cổng NAND?</li>
                            <li>Tại sao cổng NAND được gọi là "universal gate"? Chứng minh bằng cách dùng NAND để tạo ra NOT, AND, OR.</li>
                            <li>Thiết kế mạch kiểm tra parity chẵn cho 3 bit input dùng cổng XOR.</li>
                            <li>Cho hàm F(A,B,C) = Σ(0,2,4,6). Thiết kế mạch thực hiện hàm này.</li>
                            <li>Phân biệt cổng XOR và XNOR. Ứng dụng thực tế của mỗi loại?</li>
                        </ol>
                    </div>
                </div>
            </div>
        </div>

        <!-- ========== BÀI 2: BỘ CỘNG/TRỪ ========== -->
        <div id="lab2" class="content">
            <div class="lab-section">
                <div class="lab-header">
                    <div class="lab-icon">
                        <i class="fas fa-calculator"></i>
                    </div>
                    <div class="lab-title-container">
                        <h2 class="lab-title">BÀI 2: THIẾT KẾ BỘ CỘNG VÀ BỘ TRỪ NHỊ PHÂN</h2>
                        <p class="lab-subtitle">Nền tảng số học máy tính • Thiết kế mạch số học cơ bản</p>
                        <span class="difficulty">★★☆☆☆ Trung bình • Thời gian: 3 giờ</span>
                    </div>
                </div>

                <div class="lab-content">
                    <!-- Mục tiêu -->
                    <div class="content-section objective">
                        <h3 class="content-title">
                            <span class="section-icon"><i class="fas fa-bullseye"></i></span>
                            MỤC TIÊU
                        </h3>
                        <ul>
                            <li>Hiểu nguyên lý hoạt động của bộ cộng bán phần (Half Adder) và bộ cộng toàn phần (Full Adder)</li>
                            <li>Thiết kế bộ cộng 4-bit bằng cách kết nối nhiều bộ cộng toàn phần</li>
                            <li>Thiết kế bộ trừ nhị phân sử dụng phương pháp bù 2 (Two's Complement)</li>
                            <li>Mô phỏng và kiểm tra bộ cộng/trừ với các giá trị nhị phân khác nhau</li>
                            <li>Thiết kế bộ cộng/trừ kết hợp có chân chọn chức năng (Add/Sub)</li>
                        </ul>
                    </div>

                    <!-- Công cụ và chuẩn bị -->
                    <div class="content-section tools">
                        <h3 class="content-title">
                            <span class="section-icon"><i class="fas fa-tools"></i></span>
                            CÔNG CỤ VÀ CHUẨN BỊ
                        </h3>
                        <ul>
                            <li><strong>Phần mềm:</strong> CircuitVerse với thư viện đầy đủ</li>
                            <li><strong>Tài liệu:</strong> Slide chương 3 - Mạch số học</li>
                            <li><strong>Linh kiện:</strong> Cổng XOR, AND, OR, NOT; Multiplexer 2:1</li>
                            <li><strong>Hiển thị:</strong> 7-segment display, output pins</li>
                            <li><strong>Kiến thức:</strong> Phép toán nhị phân, bù 1, bù 2, cờ nhớ (Carry Flag)</li>
                        </ul>
                    </div>

                    <!-- Hướng dẫn thực hiện -->
                    <div class="content-section instructions">
                        <h3 class="content-title">
                            <span class="section-icon"><i class="fas fa-book-open"></i></span>
                            HƯỚNG DẪN THỰC HIỆN
                        </h3>
                        <p><strong>Phần A: Bộ cộng bán phần (Half Adder)</strong></p>
                        <ol>
                            <li>Thiết kế mạch có 2 input A, B</li>
                            <li>Output Sum = A ⊕ B (XOR)</li>
                            <li>Output Carry = A • B (AND)</li>
                            <li>Kiểm tra với tất cả tổ hợp input</li>
                        </ol>
                        
                        <p><strong>Phần B: Bộ cộng toàn phần (Full Adder)</strong></p>
                        <ol>
                            <li>Thiết kế từ 2 half adder và 1 cổng OR</li>
                            <li>Có 3 input: A, B, Carry-in</li>
                            <li>Output: Sum, Carry-out</li>
                            <li>Kiểm tra bảng chân trị đầy đủ</li>
                        </ol>
                        
                        <p><strong>Phần C: Bộ cộng 4-bit</strong></p>
                        <ol>
                            <li>Kết nối 4 full adder nối tiếp</li>
                            <li>Carry-out của bit trước là Carry-in của bit sau</li>
                            <li>Thêm input/output 4-bit cho A, B, Result</li>
                        </ol>
                    </div>

                    <!-- Yêu cầu nộp -->
                    <div class="content-section requirements">
                        <h3 class="content-title">
                            <span class="section-icon"><i class="fas fa-file-export"></i></span>
                            YÊU CẦU NỘP
                        </h3>
                        <ul>
                            <li>File CircuitVerse chứa: Half Adder, Full Adder, 4-bit Adder</li>
                            <li>Bộ cộng/trừ 4-bit có chân chọn Add/Sub</li>
                            <li>Test cases: 7+5, 12+3, 15-8 (số không dấu)</li>
                            <li>Phát hiện overflow và hiển thị cờ Carry</li>
                            <li>Báo cáo giải thích thiết kế và kết quả test</li>
                            <li><strong>Hạn nộp:</strong> 1 tuần sau buổi thực hành</li>
                        </ul>
                    </div>

                    <!-- Câu hỏi ôn tập -->
                    <div class="content-section questions">
                        <h3 class="content-title">
                            <span class="section-icon"><i class="fas fa-question-circle"></i></span>
                            CÂU HỎI ÔN TẬP
                        </h3>
                        <ol>
                            <li>Tại sao cần Full Adder thay vì chỉ dùng Half Adder?</li>
                            <li>Giải thích phương pháp bù 2 trong phép trừ nhị phân.</li>
                            <li>Thiết kế bộ cộng 8-bit từ các module 4-bit.</li>
                            <li>Làm thế nào phát hiện overflow trong phép cộng số có dấu?</li>
                            <li>Cải tiến bộ cộng để hỗ trợ số BCD (Binary Coded Decimal).</li>
                        </ol>
                    </div>
                </div>
            </div>
        </div>

        <!-- ========== BÀI 3: MẠCH TUẦN TỰ ========== -->
        <div id="lab3" class="content">
            <div class="lab-section">
                <div class="lab-header">
                    <div class="lab-icon">
                        <i class="fas fa-memory"></i>
                    </div>
                    <div class="lab-title-container">
                        <h2 class="lab-title">BÀI 3: THIẾT KẾ MẠCH TUẦN TỰ VÀ FLIP-FLOP</h2>
                        <p class="lab-subtitle">Bộ nhớ số • Trạng thái và xung clock trong mạch số</p>
                        <span class="difficulty">★★★☆☆ Khó • Thời gian: 4 giờ</span>
                    </div>
                </div>

                <div class="lab-content">
                    <!-- Mục tiêu -->
                    <div class="content-section objective">
                        <h3 class="content-title">
                            <span class="section-icon"><i class="fas fa-bullseye"></i></span>
                            MỤC TIÊU
                        </h3>
                        <ul>
                            <li>Hiểu nguyên lý hoạt động của các loại Flip-Flop: SR, D, JK, T</li>
                            <li>Phân biệt flip-flop và latch, trigger theo cạnh lên/xuống</li>
                            <li>Thiết kế thanh ghi dịch (Shift Register) sử dụng D Flip-Flop</li>
                            <li>Thiết kế bộ đếm (Counter) đồng bộ và không đồng bộ</li>
                            <li>Mô phỏng hoạt động của mạch tuần tự với tín hiệu xung clock</li>
                            <li>Ứng dụng mạch tuần tự trong thiết kế FSM đơn giản</li>
                        </ul>
                    </div>

                    <!-- Công cụ và chuẩn bị -->
                    <div class="content-section tools">
                        <h3 class="content-title">
                            <span class="section-icon"><i class="fas fa-tools"></i></span>
                            CÔNG CỤ VÀ CHUẨN BỊ
                        </h3>
                        <ul>
                            <li><strong>Phần mềm:</strong> CircuitVerse với module Sequential</li>
                            <li><strong>Tài liệu:</strong> Slide chương 4 - Mạch tuần tự</li>
                            <li><strong>Linh kiện:</strong> Các loại flip-flop, clock generator</li>
                            <li><strong>Hiển thị:</strong> 7-segment, output probes, binary display</li>
                            <li><strong>Kiến thức:</strong> State diagram, timing diagram, setup/hold time</li>
                        </ul>
                    </div>

                    <!-- Hướng dẫn thực hiện -->
                    <div class="content-section instructions">
                        <h3 class="content-title">
                            <span class="section-icon"><i class="fas fa-book-open"></i></span>
                            HƯỚNG DẪN THỰC HIỆN
                        </h3>
                        <p><strong>Phần A: Các loại Flip-Flop cơ bản</strong></p>
                        <ol>
                            <li>Tạo SR Flip-Flop từ cổng NAND</li>
                            <li>Thiết kế D Flip-Flop từ SR Flip-Flop</li>
                            <li>Chuyển đổi D Flip-Flop thành JK Flip-Flop</li>
                            <li>Tạo T Flip-Flop từ JK Flip-Flop</li>
                            <li>So sánh hoạt động với các loại trigger khác nhau</li>
                        </ol>
                        
                        <p><strong>Phần B: Thanh ghi dịch (Shift Register)</strong></p>
                        <ol>
                            <li>Thiết kế thanh ghi dịch 4-bit SISO (Serial In Serial Out)</li>
                            <li>Phát triển thành thanh ghi SIPO (Serial In Parallel Out)</li>
                            <li>Thêm chức năng shift left/shift right</li>
                            <li>Kiểm tra với các pattern dữ liệu khác nhau</li>
                        </ol>
                        
                        <p><strong>Phần C: Bộ đếm (Counter)</strong></p>
                        <ol>
                            <li>Thiết kế bộ đếm 4-bit không đồng bộ (ripple counter)</li>
                            <li>Thiết kế bộ đếm 4-bit đồng bộ</li>
                            <li>Thêm chức năng đếm lên/đếm xuống</li>
                            <li>Thiết kế bộ đếm module-N (đếm 0-9)</li>
                        </ol>
                    </div>

                    <!-- Yêu cầu nộp -->
                    <div class="content-section requirements">
                        <h3 class="content-title">
                            <span class="section-icon"><i class="fas fa-file-export"></i></span>
                            YÊU CẦU NỘP
                        </h3>
                        <ul>
                            <li>File CircuitVerse chứa đủ 4 loại flip-flop cơ bản</li>
                            <li>Thanh ghi dịch 4-bit với chức năng shift left/right</li>
                            <li>Bộ đếm đồng bộ 4-bit đếm lên/xuống</li>
                            <li>Bộ đếm module-10 hiển thị trên 7-segment</li>
                            <li>Timing diagram cho các mạch trên</li>
                            <li>Báo cáo phân tích hoạt động và ứng dụng</li>
                            <li><strong>Hạn nộp:</strong> 2 tuần sau buổi thực hành</li>
                        </ul>
                    </div>

                    <!-- Câu hỏi ôn tập -->
                    <div class="content-section questions">
                        <h3 class="content-title">
                            <span class="section-icon"><i class="fas fa-question-circle"></i></span>
                            CÂU HỎI ÔN TẬP
                        </h3>
                        <ol>
                            <li>Phân biệt flip-flop và latch. Ưu nhược điểm của mỗi loại?</li>
                            <li>Tại sao cần setup time và hold time trong flip-flop?</li>
                            <li>Thiết kế bộ đếm 0-99 dùng 2 bộ đếm decade nối tiếp.</li>
                            <li>Ứng dụng của shift register trong truyền thông nối tiếp?</li>
                            <li>Thiết kế FSM đơn giản cho máy bán hàng tự động.</li>
                        </ol>
                    </div>
                </div>
            </div>
        </div>

        <!-- ========== BÀI 4: ALU ĐƠN GIẢN ========== -->
        <div id="lab4" class="content">
            <div class="lab-section">
                <div class="lab-header">
                    <div class="lab-icon">
                        <i class="fas fa-brain"></i>
                    </div>
                    <div class="lab-title-container">
                        <h2 class="lab-title">BÀI 4: THIẾT KẾ ĐƠN VỊ XỬ LÝ SỐ HỌC VÀ LOGIC (ALU)</h2>
                        <p class="lab-subtitle">Trái tim của CPU • Kết hợp mạch số học và logic</p>
                        <span class="difficulty">★★★★☆ Rất khó • Thời gian: 5 giờ</span>
                    </div>
                </div>

                <div class="lab-content">
                    <!-- Mục tiêu -->
                    <div class="content-section objective">
                        <h3 class="content-title">
                            <span class="section-icon"><i class="fas fa-bullseye"></i></span>
                            MỤC TIÊU
                        </h3>
                        <ul>
                            <li>Hiểu kiến trúc và nguyên lý hoạt động của ALU cơ bản</li>
                            <li>Thiết kế ALU 4-bit thực hiện các phép toán: AND, OR, XOR, ADD, SUBTRACT</li>
                            <li>Tích hợp bộ cộng/trừ đã thiết kế ở bài trước vào ALU</li>
                            <li>Thiết kế bộ chọn chức năng (Function Selector) cho ALU</li>
                            <li>Thiết kế cờ trạng thái (Status Flags): Zero, Carry, Overflow, Sign</li>
                            <li>Kiểm tra ALU với các phép toán trên số có dấu và không dấu</li>
                        </ul>
                    </div>

                    <!-- Công cụ và chuẩn bị -->
                    <div class="content-section tools">
                        <h3 class="content-title">
                            <span class="section-icon"><i class="fas fa-tools"></i></span>
                            CÔNG CỤ VÀ CHUẨN BỊ
                        </h3>
                        <ul>
                            <li><strong>Phần mềm:</strong> CircuitVerse với module Arithmetic</li>
                            <li><strong>Tài liệu:</strong> Slide chương 5 - Kiến trúc CPU cơ bản</li>
                            <li><strong>Module có sẵn:</strong> Bộ cộng/trừ 4-bit từ Bài 2</li>
                            <li><strong>Linh kiện:</strong> Multiplexer 4:1, 8:1; comparators</li>
                            <li><strong>Kiến thức:</strong> ALU design, status flags, function codes</li>
                        </ul>
                    </div>

                    <!-- Hướng dẫn thực hiện -->
                    <div class="content-section instructions">
                        <h3 class="content-title">
                            <span class="section-icon"><i class="fas fa-book-open"></i></span>
                            HƯỚNG DẪN THỰC HIỆN
                        </h3>
                        <p><strong>Phần A: Thiết kế khối xử lý logic</strong></p>
                        <ol>
                            <li>Tạo khối thực hiện AND, OR, XOR cho 2 input 4-bit</li>
                            <li>Thiết kế khối thực hiện NOT, NAND, NOR</li>
                            <li>Thêm khối shift left/shift right logic</li>
                            <li>Dùng multiplexer để chọn chức năng</li>
                        </ol>
                        
                        <p><strong>Phần B: Tích hợp khối số học</strong></p>
                        <ol>
                            <li>Import bộ cộng/trừ 4-bit từ Bài 2</li>
                            <li>Thêm chức năng increment (+1), decrement (-1)</li>
                            <li>Thiết kế khối so sánh (comparator)</li>
                            <li>Kết hợp với khối logic qua multiplexer</li>
                        </ol>
                        
                        <p><strong>Phần C: Thiết kế cờ trạng thái</strong></p>
                        <ol>
                            <li>Cờ Zero: kết quả = 0000</li>
                            <li>Cờ Carry: nhớ từ bit cao nhất</li>
                            <li>Cờ Overflow: tràn số có dấu</li>
                            <li>Cờ Sign: bit dấu của kết quả</li>
                        </ol>
                        
                        <p><strong>Phần D: Tích hợp hoàn chỉnh ALU</strong></p>
                        <ol>
                            <li>Kết nối tất cả khối với nhau</li>
                            <li>Thiết kế bộ điều khiển chọn chức năng 3-bit</li>
                            <li>Thêm input/output 4-bit A, B, Result</li>
                            <li>Thêm output 4-bit cho status flags</li>
                        </ol>
                    </div>

                    <!-- Yêu cầu nộp -->
                    <div class="content-section requirements">
                        <h3 class="content-title">
                            <span class="section-icon"><i class="fas fa-file-export"></i></span>
                            YÊU CẦU NỘP
                        </h3>
                        <ul>
                            <li>File CircuitVerse ALU 4-bit hoàn chỉnh</li>
                            <li>Support 8 operations: AND, OR, XOR, ADD, SUB, INC, DEC, CMP</li>
                            <li>Đầy đủ 4 status flags: Z, C, V, S</li>
                            <li>Test cases: (7 AND 3), (8+4), (12-5), (15 CMP 15)</li>
                            <li>Bảng mã chức năng (function code table)</li>
                            <li>Báo cáo thiết kế chi tiết và kết quả kiểm tra</li>
                            <li><strong>Hạn nộp:</strong> 2 tuần sau buổi thực hành</li>
                        </ul>
                    </div>

                    <!-- Câu hỏi ôn tập -->
                    <div class="content-section questions">
                        <h3 class="content-title">
                            <span class="section-icon"><i class="fas fa-question-circle"></i></span>
                            CÂU HỎI ÔN TẬP
                        </h3>
                        <ol>
                            <li>Tại sao ALU cần status flags? Ứng dụng trong lập trình?</li>
                            <li>So sánh ALU ripple-carry và ALU carry-lookahead.</li>
                            <li>Mở rộng ALU 4-bit thành 8-bit như thế nào?</li>
                            <li>Thiết kế ALU hỗ trợ phép nhân cơ bản (shift-add).</li>
                            <li>Ưu điểm của ALU slice design trong vi xử lý hiện đại?</li>
                        </ol>
                    </div>
                </div>
            </div>
        </div>

        <!-- ========== BÀI 5: CPU MINI ========== -->
        <div id="lab5" class="content">
            <div class="lab-section">
                <div class="lab-header">
                    <div class="lab-icon">
                        <i class="fas fa-cogs"></i>
                    </div>
                    <div class="lab-title-container">
                        <h2 class="lab-title">BÀI 5: THIẾT KẾ CPU MINI - REGISTER FILE + ALU + CONTROL</h2>
                        <p class="lab-subtitle">Vi xử lý đơn giản • Tích hợp các thành phần CPU cơ bản</p>
                        <span class="difficulty">★★★★★ Nâng cao • Thời gian: 8 giờ</span>
                    </div>
                </div>

                <div class="lab-content">
                    <!-- Mục tiêu -->
                    <div class="content-section objective">
                        <h3 class="content-title">
                            <span class="section-icon"><i class="fas fa-bullseye"></i></span>
                            MỤC TIÊU
                        </h3>
                        <ul>
                            <li>Thiết kế Register File 4×4-bit với 2 port đọc và 1 port ghi (2R1W)</li>
                            <li>Tích hợp ALU từ Bài 4 vào CPU mini</li>
                            <li>Thiết kế bộ điều khiển (Control Unit) đơn giản</li>
                            <li>Thiết kế đường dữ liệu (Datapath) cơ bản</li>
                            <li>Thiết kế bộ đếm chương trình (Program Counter) và thanh ghi lệnh (Instruction Register)</li>
                            <li>Thực hiện chu trình fetch-decode-execute cơ bản</li>
                            <li>Thiết kế tập lệnh đơn giản (AND, OR, ADD, SUB, LOAD, STORE)</li>
                        </ul>
                    </div>

                    <!-- Công cụ và chuẩn bị -->
                    <div class="content-section tools">
                        <h3 class="content-title">
                            <span class="section-icon"><i class="fas fa-tools"></i></span>
                            CÔNG CỤ VÀ CHUẨN BỊ
                        </h3>
                        <ul>
                            <li><strong>Phần mềm:</strong> CircuitVerse với tất cả module</li>
                            <li><strong>Module có sẵn:</strong> ALU 4-bit từ Bài 4, Register File thiết kế riêng</li>
                            <li><strong>Tài liệu:</strong> Slide chương 6 - Kiến trúc CPU và pipeline</li>
                            <li><strong>Linh kiện:</strong> Memory RAM đơn giản, multiplexers nhiều cổng</li>
                            <li><strong>Kiến thức:</strong> CPU architecture, instruction set, control signals</li>
                        </ul>
                    </div>

                    <!-- Hướng dẫn thực hiện -->
                    <div class="content-section instructions">
                        <h3 class="content-title">
                            <span class="section-icon"><i class="fas fa-book-open"></i></span>
                            HƯỚNG DẪN THỰC HIỆN
                        </h3>
                        <p><strong>Phần A: Thiết kế Register File 4×4-bit (2R1W)</strong></p>
                        <ol>
                            <li>Thiết kế thanh ghi 4-bit dùng D Flip-Flop</li>
                            <li>Nhân thành 4 thanh ghi (R0, R1, R2, R3)</li>
                            <li>Thiết kế bộ giải mã địa chỉ 2→4 cho port ghi</li>
                            <li>Thiết kế bộ chọn 4→1 cho 2 port đọc</li>
                            <li>Thêm tín hiệu Write Enable và Clock</li>
                        </ol>
                        
                        <p><strong>Phần B: Tích hợp ALU và đường dữ liệu</strong></p>
                        <ol>
                            <li>Kết nối output của Register File vào ALU</li>
                            <li>Thiết kế đường dữ liệu từ ALU về Register File</li>
                            <li>Thêm immediate data input 4-bit</li>
                            <li>Thiết kế bộ chọn giữa register data và immediate</li>
                        </ol>
                        
                        <p><strong>Phần C: Thiết kế bộ điều khiển (Control Unit)</strong></p>
                        <ol>
                            <li>Thiết kế instruction decoder cho 8-bit instruction</li>
                            <li>opcode 3-bit: 000=AND, 001=OR, 010=ADD, 011=SUB, 100=LOAD, 101=STORE</li>
                            <li>operand fields: 2-bit cho src1, 2-bit cho src2/dest, 4-bit immediate</li>
                            <li>Tạo control signals: RegWrite, ALUOp, MemRead, MemWrite</li>
                        </ol>
                        
                        <p><strong>Phần D: Bộ nhớ và điều khiển chương trình</strong></p>
                        <ol>
                            <li>Thiết kế Program Counter 4-bit</li>
                            <li>Thiết kế Instruction Memory 16×8-bit</li>
                            <li>Thiết kế Data Memory 16×4-bit</li>
                            <li>Thiết kế chu trình fetch-decode-execute</li>
                        </ol>
                        
                        <p><strong>Phần E: Tích hợp hoàn chỉnh CPU mini</strong></p>
                        <ol>
                            <li>Kết nối tất cả thành phần</li>
                            <li>Thiết kế clock generator và reset circuit</li>
                            <li>Thêm output display cho các thanh ghi và trạng thái</li>
                            <li>Viết chương trình mẫu và kiểm tra hoạt động</li>
                        </ol>
                    </div>

                    <!-- Yêu cầu nộp -->
                    <div class="content-section requirements">
                        <h3 class="content-title">
                            <span class="section-icon"><i class="fas fa-file-export"></i></span>
                            YÊU CẦU NỘP
                        </h3>
                        <ul>
                            <li>File CircuitVerse CPU mini hoàn chỉnh</li>
                            <li>Register File 4×4-bit 2R1W hoạt động đúng</li>
                            <li>ALU tích hợp đầy đủ từ Bài 4</li>
                            <li>Control Unit với 6 lệnh cơ bản</li>
                            <li>Chương trình mẫu tính tổng 3 số: 5+7+3 = 15</li>
                            <li>Instruction set architecture document</li>
                            <li>Báo cáo thiết kế chi tiết và đánh giá hiệu năng</li>
                            <li><strong>Hạn nộp:</strong> 3 tuần sau buổi thực hành (dự án cuối kỳ)</li>
                        </ul>
                    </div>

                    <!-- Câu hỏi ôn tập -->
                    <div class="content-section questions">
                        <h3 class="content-title">
                            <span class="section-icon"><i class="fas fa-question-circle"></i></span>
                            CÂU HỎI ÔN TẬP
                        </h3>
                        <ol>
                            <li>Tại sao Register File cần nhiều port đọc/ghi? Trade-off là gì?</li>
                            <li>Phân tích critical path trong CPU mini của bạn.</li>
                            <li>Mở rộng CPU thành 8-bit cần thay đổi gì?</li>
                            <li>Thiết kế pipeline 2-stage cho CPU mini.</li>
                            <li>So sánh Harvard architecture vs Von Neumann architecture.</li>
                            <li>Cách thêm lệnh nhảy (JUMP) vào instruction set?</li>
                            <li>Tối ưu hóa CPU để giảm số chu kỳ clock mỗi lệnh.</li>
                        </ol>
                    </div>
                </div>
            </div>
        </div>

        <!-- ========== TRÌNH MÔ PHỎNG ========== -->
        <div id="simulator" class="content">
            <div class="practice-content">
                <h2 class="lab-title"><i class="fas fa-play-circle"></i> TRÌNH MÔ PHỎNG CIRCUITVERSE</h2>
                <p class="lab-subtitle">Môi trường thực hành trực tuyến - Thiết kế và kiểm tra mạch số</p>
                
                <div class="simulator-container">
                    <h3 class="content-title"><i class="fas fa-info-circle"></i> HƯỚNG DẪN SỬ DỤNG</h3>
                    <p>Dưới đây là trình mô phỏng CircuitVerse chính thức. Bạn có thể:</p>
                    <ul style="text-align: left; max-width: 800px; margin: 20px auto;">
                        <li>Thiết kế mạch mới từ thanh công cụ bên trái</li>
                        <li>Kéo thả các linh kiện và kết nối chúng</li>
                        <li>Chạy mô phỏng để kiểm tra hoạt động</li>
                        <li>Lưu và chia sẻ thiết kế của bạn</li>
                    </ul>
                    
                    <div class="simulator-frame">
                        <iframe 
                            src="https://circuitverse.org/simulator" 
                            width="100%" 
                            height="100%"
                            style="border:none;"
                            title="CircuitVerse Simulator">
                        </iframe>
                    </div>
                    
                    <div style="margin-top: 20px; color: #000000; font-size: 0.9rem;">
                        <p><i class="fas fa-lightbulb" style="color: #000080;"></i> <strong>Mẹo:</strong> Sử dụng trình mô phỏng này để hoàn thành các bài thực hành và thử nghiệm ý tưởng mới.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer class="footer">
            <p>Phòng thí nghiệm Kiến trúc Máy tính • 
               <a href="https://hoaminh.github.io/Computer-Architecture-Lab/">
                   hoaminh.github.io/Computer-Architecture-Lab
               </a>
            </p>
            <p>© 2024 - Mọi quyền được bảo lưu | Sử dụng CircuitVerse cho mục đích giáo dục</p>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const mainTabs = document.querySelectorAll('.nav-tab[data-tab]');
            const subTabs = document.querySelectorAll('.sub-tab');
            const contents = document.querySelectorAll('.content');
            const labsSubnav = document.getElementById('labs-subnav');
            
            function hideAllContents() {
                contents.forEach(content => {
                    content.classList.remove('active');
                });
            }
            
            function deactivateAllMainTabs() {
                mainTabs.forEach(tab => {
                    tab.classList.remove('active');
                });
            }
            
            function deactivateAllSubTabs() {
                subTabs.forEach(tab => {
                    tab.classList.remove('active');
                });
            }
            
            mainTabs.forEach(tab => {
                tab.addEventListener('click', function(e) {
                    if(this.href && !this.getAttribute('data-tab')) {
                        return;
                    }
                    
                    e.preventDefault();
                    
                    const tabType = this.getAttribute('data-tab');
                    
                    deactivateAllMainTabs();
                    deactivateAllSubTabs();
                    
                    this.classList.add('active');
                    
                    hideAllContents();
                    
                    if (tabType === 'labs') {
                        labsSubnav.style.display = 'flex';
                        document.getElementById('lab1').classList.add('active');
                        document.querySelector('[data-subtab="lab1"]').classList.add('active');
                    } else if (tabType === 'simulator') {
                        labsSubnav.style.display = 'none';
                        document.getElementById('simulator').classList.add('active');
                    }
                });
            });
            
            subTabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    const subtabId = this.getAttribute('data-subtab');
                    
                    deactivateAllSubTabs();
                    this.classList.add('active');
                    
                    contents.forEach(content => {
                        if (content.id.startsWith('lab')) {
                            content.classList.remove('active');
                        }
                    });
                    
                    document.getElementById(subtabId).classList.add('active');
                });
            });
            
            labsSubnav.style.display = 'flex';
            console.log("CircuitVerse Labs Page với màu sắc đơn giản đã sẵn sàng!");
        });
    </script>
</body>
</html>
